{"version":3,"file":"js-tester.min.js","sources":["js-tester.min.js"],"sourcesContent":["\"use strict\";\n\nvar jsTester = function () {\n  function processTestResult(passed) {\n    if (passed instanceof Promise) {\n      return passed.then(function (value) {\n        return processTestResult(value);\n      });\n    }\n\n    if (passed) {\n      console.log(\"    %c\\u2714 Passed\", 'color: green;');\n    } else {\n      console.log(\"    %c\\u2716 Failed\", 'color: red;');\n    }\n  }\n\n  function jsTester() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      return jsTester.apply(void 0, [null].concat(args));\n    }\n\n    if (args.length === 2) {\n      return jsTester.apply(void 0, [{}].concat(args));\n    }\n\n    var initValue = args[0],\n        label = args[1],\n        code = args[2];\n    var tests = [];\n    return {\n      test: function test() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        if (args.length === 1) {\n          return this.test.apply(this, [null].concat(args));\n        }\n\n        var label = args[0],\n            code = args[1];\n        tests.push(function (value) {\n          if (label) {\n            console.log(\"  \".concat(label));\n          }\n\n          return processTestResult(code(value));\n        });\n        return this;\n      },\n      callback: function callback() {\n        var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initValue;\n\n        if (label) {\n          console.log(label);\n        }\n\n        var promiseOrValue = code(value);\n\n        if (promiseOrValue instanceof Promise) {\n          promiseOrValue = promiseOrValue.then(function () {\n            var returnValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : value;\n            value = returnValue;\n          });\n        } else {\n          value = promiseOrValue;\n        }\n\n        var _loop = function _loop(index, length) {\n          var test = tests[index];\n\n          if (promiseOrValue instanceof Promise) {\n            promiseOrValue = promiseOrValue.then(function () {\n              return test(value);\n            });\n          } else {\n            promiseOrValue = test(value);\n          }\n        };\n\n        for (var index = 0, length = tests.length; index < length; index++) {\n          _loop(index, length);\n        }\n\n        if (promiseOrValue instanceof Promise) {\n          return promiseOrValue.then(function () {\n            return value;\n          });\n        }\n\n        return value;\n      },\n      end: function end() {\n        return this.callback();\n      },\n      promise: function promise() {\n        try {\n          var promiseOrValue = this.end();\n\n          if (promiseOrValue instanceof Promise) {\n            return promiseOrValue;\n          }\n\n          return Promise.resolve(promiseOrValue);\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n    };\n  }\n\n  return jsTester;\n}();\n/* exported jsTester */"],"names":["jsTester","_len","arguments","length","args","Array","_key","apply","concat","initValue","label","code","tests","test","_len2","_key2","this","push","value","console","log","processTestResult","passed","Promise","then","callback","undefined","promiseOrValue","index","_loop","end","promise","resolve","error","reject"],"mappings":"aAEA,IAAIA,SAAW,WAeb,SAASA,IACP,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGzB,GAAoB,IAAhBF,EAAKD,OACP,OAAOH,EAASO,WAAM,EAAQ,CAAC,MAAMC,OAAOJ,IAG9C,GAAoB,IAAhBA,EAAKD,OACP,OAAOH,EAASO,WAAM,EAAQ,CAAC,IAAIC,OAAOJ,IAG5C,IAAIK,EAAYL,EAAK,GACjBM,EAAQN,EAAK,GACbO,EAAOP,EAAK,GACZQ,EAAQ,GACZ,MAAO,CACLC,KAAM,WACJ,IAAK,IAAIC,EAAQZ,UAAUC,OAAQC,EAAO,IAAIC,MAAMS,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFX,EAAKW,GAASb,UAAUa,GAG1B,GAAoB,IAAhBX,EAAKD,OACP,OAAOa,KAAKH,KAAKN,MAAMS,KAAM,CAAC,MAAMR,OAAOJ,IAG7C,IAAIM,EAAQN,EAAK,GACbO,EAAOP,EAAK,GAQhB,OAPAQ,EAAMK,KAAK,SAAUC,GAKnB,OAJIR,GACFS,QAAQC,IAAI,KAAKZ,OAAOE,IA7ClC,SAASW,EAAkBC,GACzB,GAAIA,aAAkBC,QACpB,OAAOD,EAAOE,KACLH,GAIPC,EACFH,QAAQC,IAAI,iBAAuB,iBAEnCD,QAAQC,IAAI,iBAAuB,eAsCxBC,CAAkBV,EAAKO,MAEzBF,MAETS,SAAU,WACR,IAAIP,EAA2B,EAAnBhB,UAAUC,aAA+BuB,IAAjBxB,UAAU,GAAmBA,UAAU,GAAKO,EAE5EC,GACFS,QAAQC,IAAIV,GAGd,IAAIiB,EAAiBhB,EAAKO,GAEtBS,aAA0BJ,QAC5BI,EAAiBA,EAAeH,KAAK,WAEnCN,EADqC,EAAnBhB,UAAUC,aAA+BuB,IAAjBxB,UAAU,GAAmBA,UAAU,GAAKgB,IAIxFA,EAAQS,EAeV,IAZA,IAYSC,EAAQ,EAAGzB,EAASS,EAAMT,OAAQyB,EAAQzB,EAAQyB,KAZ/C,SAAeA,GACzB,IAAIf,EAAOD,EAAMgB,GAGfD,EADEA,aAA0BJ,QACXI,EAAeH,KAAK,WACnC,OAAOX,EAAKK,KAGGL,EAAKK,GAKxBW,CAAMD,GAGR,OAAID,aAA0BJ,QACrBI,EAAeH,KAAK,WACzB,OAAON,IAIJA,GAETY,IAAK,WACH,OAAOd,KAAKS,YAEdM,QAAS,WACP,IACE,IAAIJ,EAAiBX,KAAKc,MAE1B,OAAIH,aAA0BJ,QACrBI,EAGFJ,QAAQS,QAAQL,GACvB,MAAOM,GACP,OAAOV,QAAQW,OAAOD,MAM9B,OAAOjC,EAlHM"}