{"version":3,"file":"js-tester.min.js","sources":["js-tester.min.js"],"sourcesContent":["\"use strict\";\n\nvar _jsTester;\n\n{\n  var processTestResult = function processTestResult(passed) {\n    if (passed) {\n      console.log(\"    %c\\u2714 Passed\", 'color: green;');\n    } else {\n      console.log(\"    %c\\u2716 Failed\", 'color: red;');\n    }\n  };\n\n  _jsTester = function jsTester() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1) {\n      return _jsTester.apply(void 0, [null].concat(args));\n    }\n\n    if (args.length === 2) {\n      return _jsTester.apply(void 0, [{}].concat(args));\n    }\n\n    var initValue = args[0],\n        label = args[1],\n        code = args[2];\n    var tests = [];\n    return {\n      test: function test() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        if (args.length === 1) {\n          return this.test.apply(this, [null].concat(args));\n        }\n\n        var label = args[0],\n            code = args[1];\n        tests.push(function (value) {\n          if (label) {\n            console.log(\"  \".concat(label));\n          }\n\n          return code(value);\n        });\n        return this;\n      },\n      func: function func() {\n        return function () {\n          var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initValue;\n\n          if (label) {\n            console.log(label);\n          }\n\n          var promiseOrValue = code(value);\n\n          if (promiseOrValue instanceof Promise) {\n            promiseOrValue = promiseOrValue.then(function () {\n              var returnValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : value;\n              value = returnValue;\n            });\n          } else {\n            value = promiseOrValue;\n          }\n\n          var _loop = function _loop(index, length) {\n            var test = tests[index];\n\n            if (promiseOrValue instanceof Promise) {\n              promiseOrValue = promiseOrValue.then(function () {\n                return test(value);\n              });\n            } else {\n              var nextPromiseOrValue = test(value);\n\n              if (nextPromiseOrValue instanceof Promise) {\n                if (!(promiseOrValue instanceof Promise)) {\n                  promiseOrValue = Promise.resolve();\n                }\n\n                promiseOrValue = promiseOrValue.then(function () {\n                  return nextPromiseOrValue;\n                });\n              } else {\n                promiseOrValue = nextPromiseOrValue;\n              }\n            }\n\n            if (promiseOrValue instanceof Promise) {\n              promiseOrValue = promiseOrValue.then(processTestResult);\n            } else {\n              processTestResult(promiseOrValue);\n            }\n          };\n\n          for (var index = 0, length = tests.length; index < length; index++) {\n            _loop(index, length);\n          }\n\n          if (promiseOrValue instanceof Promise) {\n            return promiseOrValue.then(function () {\n              return value;\n            });\n          }\n\n          return value;\n        };\n      },\n      end: function end() {\n        return this.func()();\n      },\n      promise: function promise() {\n        var promiseOrValue = this.end();\n\n        if (!(promiseOrValue instanceof Promise)) {\n          return Promise.resolve().then(function () {\n            return promiseOrValue;\n          });\n        }\n\n        return promiseOrValue;\n      }\n    };\n  };\n}\n/* exported jsTester */"],"names":["processTestResult","passed","console","log","_jsTester","_len","arguments","length","args","Array","_key","apply","concat","initValue","label","code","tests","test","_len2","_key2","this","push","value","func","undefined","promiseOrValue","Promise","then","index","nextPromiseOrValue","resolve","_loop","end","promise"],"mappings":"aAEA,IAGMA,kBAAoB,SAA2BC,GAC7CA,EACFC,QAAQC,IAAI,iBAAuB,iBAEnCD,QAAQC,IAAI,iBAAuB,gBAIvCC,UAAY,WACV,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGzB,GAAoB,IAAhBF,EAAKD,OACP,OAAOH,UAAUO,WAAM,EAAQ,CAAC,MAAMC,OAAOJ,IAG/C,GAAoB,IAAhBA,EAAKD,OACP,OAAOH,UAAUO,WAAM,EAAQ,CAAC,IAAIC,OAAOJ,IAG7C,IAAIK,EAAYL,EAAK,GACjBM,EAAQN,EAAK,GACbO,EAAOP,EAAK,GACZQ,EAAQ,GACZ,MAAO,CACLC,KAAM,WACJ,IAAK,IAAIC,EAAQZ,UAAUC,OAAQC,EAAO,IAAIC,MAAMS,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFX,EAAKW,GAASb,UAAUa,GAG1B,GAAoB,IAAhBX,EAAKD,OACP,OAAOa,KAAKH,KAAKN,MAAMS,KAAM,CAAC,MAAMR,OAAOJ,IAG7C,IAAIM,EAAQN,EAAK,GACbO,EAAOP,EAAK,GAQhB,OAPAQ,EAAMK,KAAK,SAAUC,GAKnB,OAJIR,GACFZ,QAAQC,IAAI,KAAKS,OAAOE,IAGnBC,EAAKO,KAEPF,MAETG,KAAM,WACJ,OAAO,WACL,IAAID,EAA2B,EAAnBhB,UAAUC,aAA+BiB,IAAjBlB,UAAU,GAAmBA,UAAU,GAAKO,EAE5EC,GACFZ,QAAQC,IAAIW,GAGd,IAAIW,EAAiBV,EAAKO,GAEtBG,aAA0BC,QAC5BD,EAAiBA,EAAeE,KAAK,WAEnCL,EADqC,EAAnBhB,UAAUC,aAA+BiB,IAAjBlB,UAAU,GAAmBA,UAAU,GAAKgB,IAIxFA,EAAQG,EAiCV,IA9BA,IA8BSG,EAAQ,EAAGrB,EAASS,EAAMT,OAAQqB,EAAQrB,EAAQqB,KA9B/C,SAAeA,GACzB,IAOMC,EAPFZ,EAAOD,EAAMY,IAGfH,EADEA,aAA0BC,QACXD,EAAeE,KAAK,WACnC,OAAOV,EAAKK,MAGVO,EAAqBZ,EAAKK,cAEII,SAE9BD,IADIA,aAA0BC,SACbA,QAAQI,UAGVL,GAAeE,KAAK,WACnC,OAAOE,IAGQA,aAISH,QAC5BD,EAAiBA,EAAeE,KAAK3B,mBAErCA,kBAAkByB,GAKpBM,CAAMH,GAGR,OAAIH,aAA0BC,QACrBD,EAAeE,KAAK,WACzB,OAAOL,IAIJA,IAGXU,IAAK,WACH,OAAOZ,KAAKG,MAALH,IAETa,QAAS,WACP,IAAIR,EAAiBL,KAAKY,MAE1B,OAAMP,aAA0BC,QAMzBD,EALEC,QAAQI,UAAUH,KAAK,WAC5B,OAAOF"}