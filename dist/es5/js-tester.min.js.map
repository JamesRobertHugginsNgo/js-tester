{"version":3,"file":"js-tester.min.js","sources":["js-tester.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/**\n * @param {string} label\n * @param {function} code\n */\nfunction jsTester(label, code) {\n  var tests = [];\n  return {\n    /**\n     * @param {string} label\n     * @param {function} code\n     */\n    test: function test(label, code) {\n      tests.push({\n        label: label,\n        code: code\n      });\n      return this;\n    },\n\n    /**\n     * @param {object} data\n     * @param {*} [data.value]\n     * @param {object[]} [data.testers]\n     * @param {string} data.testers[].label\n     * @param {*} data.testers[].value\n     * @param {object[]} data.testers[].tests\n     * @param {string} data.testers[].tests[].label\n     * @param {boolean} data.testers[].tests[].passed\n     */\n    promise: function promise(data) {\n      if (!data || _typeof(data) != 'object') {\n        data = {};\n      }\n\n      var _data = data,\n          _data$value = _data.value,\n          value = _data$value === void 0 ? {} : _data$value;\n      var promise = Promise.resolve(value).then(function () {\n        console.group(label);\n        return code(value);\n      }).then(function () {\n        var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : value;\n        return void (value = result);\n      });\n\n      var _loop = function _loop(index, length) {\n        var _tests$index = tests[index],\n            label = _tests$index.label,\n            code = _tests$index.code;\n        promise = promise.then(function () {\n          console.group(label);\n          return code(value);\n        }).then(function (passed) {\n          if (passed) {\n            console.log(\"%c\\u2714 Passed\", 'color: green;');\n          } else {\n            console.log(\"%c\\u2716 Failed\", 'color: red;');\n          }\n\n          tests[index] = {\n            label: label,\n            passed: passed\n          };\n          console.groupEnd();\n        }, function (error) {\n          console.groupEnd();\n          return Promise.reject(error);\n        });\n      };\n\n      for (var index = 0, length = tests.length; index < length; index++) {\n        _loop(index, length);\n      }\n\n      return promise.then(function () {\n        console.groupEnd();\n        var _data2 = data,\n            _data2$testers = _data2.testers,\n            testers = _data2$testers === void 0 ? [] : _data2$testers;\n        testers.push({\n          label: label,\n          value: value,\n          tests: tests\n        });\n        return {\n          value: value,\n          testers: testers\n        };\n      }, function (error) {\n        console.groupEnd();\n        return Promise.reject(error);\n      });\n    }\n  };\n}\n/* exported jsTester */"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","jsTester","label","code","tests","test","push","this","promise","data","_data$value","value","Promise","resolve","then","console","group","arguments","length","undefined","index","_tests$index","passed","log","groupEnd","error","reject","_loop","_data2$testers","testers"],"mappings":"aAEA,SAASA,QAAQC,GAAkC,OAAOD,QAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqBC,QAAUD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAAgBA,GAMzU,SAASK,SAASC,EAAOC,GACvB,IAAIC,EAAQ,GACZ,MAAO,CAKLC,KAAM,SAAcH,EAAOC,GAKzB,OAJAC,EAAME,KAAK,CACTJ,MAAOA,EACPC,KAAMA,IAEDI,MAaTC,QAAS,SAAiBC,GAyCxB,IApCA,IACIC,GAJFD,GADGA,GAAyB,UAAjBd,QAAQc,GACZ,GAGGA,GACYE,MACpBA,OAAwB,IAAhBD,EAAyB,GAAKA,EACtCF,EAAUI,QAAQC,QAAQF,GAAOG,KAAK,WAExC,OADAC,QAAQC,MAAMd,GACPC,EAAKQ,KACXG,KAAK,WAEOH,EADmB,EAAnBM,UAAUC,aAA+BC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,IA6B1ES,EAAQ,EAAGF,EAASd,EAAMc,OAAQE,EAAQF,EAAQE,KAzB/C,SAAeA,GACzB,IAAIC,EAAejB,EAAMgB,GACrBlB,EAAQmB,EAAanB,MACrBC,EAAOkB,EAAalB,KACxBK,EAAUA,EAAQM,KAAK,WAErB,OADAC,QAAQC,MAAMd,GACPC,EAAKQ,KACXG,KAAK,SAAUQ,GACZA,EACFP,QAAQQ,IAAI,aAAmB,iBAE/BR,QAAQQ,IAAI,aAAmB,eAGjCnB,EAAMgB,GAAS,CACblB,MAAOA,EACPoB,OAAQA,GAEVP,QAAQS,YACP,SAAUC,GAEX,OADAV,QAAQS,WACDZ,QAAQc,OAAOD,KAKxBE,CAAMP,GAGR,OAAOZ,EAAQM,KAAK,WAClBC,QAAQS,WACR,IACII,EADSnB,EACeoB,QACxBA,OAA6B,IAAnBD,EAA4B,GAAKA,EAM/C,OALAC,EAAQvB,KAAK,CACXJ,MAAOA,EACPS,MAAOA,EACPP,MAAOA,IAEF,CACLO,MAAOA,EACPkB,QAASA,IAEV,SAAUJ,GAEX,OADAV,QAAQS,WACDZ,QAAQc,OAAOD"}